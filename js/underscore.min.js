(function(){var e=this,n=e._,t={},r=Array.prototype,i=Object.prototype,a=Function.prototype,u=r.push,o=r.slice,s=r.concat,l=i.toString,c=i.hasOwnProperty,f=r.forEach,p=r.map,g=r.reduce,m=r.reduceRight,v=r.filter,d=r.every,h=r.some,y=r.indexOf,b=r.lastIndexOf,k=Array.isArray,_=Object.keys,L=a.bind,w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):e._=w,w.VERSION="1.6.0";var T=w.each=w.forEach=function(e,n,r){if(null==e)return e;if(f&&e.forEach===f)e.forEach(n,r);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(n.call(r,e[i],i,e)===t)return}else for(var u=w.keys(e),i=0,a=u.length;a>i;i++)if(n.call(r,e[u[i]],u[i],e)===t)return;return e};w.map=w.collect=function(e,n,t){var r=[];return null==e?r:p&&e.map===p?e.map(n,t):(T(e,function(e,i,a){r.push(n.call(t,e,i,a))}),r)};var M="Reduce of empty array with no initial value";w.reduce=w.foldl=w.inject=function(e,n,t,r){var i=arguments.length>2;if(null==e&&(e=[]),g&&e.reduce===g)return r&&(n=w.bind(n,r)),i?e.reduce(n,t):e.reduce(n);if(T(e,function(e,a,u){i?t=n.call(r,t,e,a,u):(t=e,i=!0)}),!i)throw new TypeError(M);return t},w.reduceRight=w.foldr=function(e,n,t,r){var i=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return r&&(n=w.bind(n,r)),i?e.reduceRight(n,t):e.reduceRight(n);var a=e.length;if(a!==+a){var u=w.keys(e);a=u.length}if(T(e,function(o,s,l){s=u?u[--a]:--a,i?t=n.call(r,t,e[s],s,l):(t=e[s],i=!0)}),!i)throw new TypeError(M);return t},w.find=w.detect=function(e,n,t){var r;return x(e,function(e,i,a){return n.call(t,e,i,a)?(r=e,!0):void 0}),r},w.filter=w.select=function(e,n,t){var r=[];return null==e?r:v&&e.filter===v?e.filter(n,t):(T(e,function(e,i,a){n.call(t,e,i,a)&&r.push(e)}),r)},w.reject=function(e,n,t){return w.filter(e,function(e,r,i){return!n.call(t,e,r,i)},t)},w.every=w.all=function(e,n,r){n||(n=w.identity);var i=!0;return null==e?i:d&&e.every===d?e.every(n,r):(T(e,function(e,a,u){return(i=i&&n.call(r,e,a,u))?void 0:t}),!!i)};var x=w.some=w.any=function(e,n,r){n||(n=w.identity);var i=!1;return null==e?i:h&&e.some===h?e.some(n,r):(T(e,function(e,a,u){return i||(i=n.call(r,e,a,u))?t:void 0}),!!i)};w.contains=w.include=function(e,n){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(n):x(e,function(e){return e===n})},w.invoke=function(e,n){var t=o.call(arguments,2),r=w.isFunction(n);return w.map(e,function(e){return(r?n:e[n]).apply(e,t)})},w.pluck=function(e,n){return w.map(e,w.property(n))},w.where=function(e,n){return w.filter(e,w.matches(n))},w.findWhere=function(e,n){return w.find(e,w.matches(n))},w.max=function(e,n,t){if(!n&&w.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-(1/0),i=-(1/0);return T(e,function(e,a,u){var o=n?n.call(t,e,a,u):e;o>i&&(r=e,i=o)}),r},w.min=function(e,n,t){if(!n&&w.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=1/0,i=1/0;return T(e,function(e,a,u){var o=n?n.call(t,e,a,u):e;i>o&&(r=e,i=o)}),r},w.shuffle=function(e){var n,t=0,r=[];return T(e,function(e){n=w.random(t++),r[t-1]=r[n],r[n]=e}),r},w.sample=function(e,n,t){return null==n||t?(e.length!==+e.length&&(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,n))};var A=function(e){return null==e?w.identity:w.isFunction(e)?e:w.property(e)};w.sortBy=function(e,n,t){return n=A(n),w.pluck(w.map(e,function(e,r,i){return{value:e,index:r,criteria:n.call(t,e,r,i)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(r>t||void 0===r)return-1}return e.index-n.index}),"value")};var E=function(e){return function(n,t,r){var i={};return t=A(t),T(n,function(a,u){var o=t.call(r,a,u,n);e(i,o,a)}),i}};w.groupBy=E(function(e,n,t){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=E(function(e,n,t){e[n]=t}),w.countBy=E(function(e,n){w.has(e,n)?e[n]++:e[n]=1}),w.sortedIndex=function(e,n,t,r){t=A(t);for(var i=t.call(r,n),a=0,u=e.length;u>a;){var o=a+u>>>1;t.call(r,e[o])<i?a=o+1:u=o}return a},w.toArray=function(e){return e?w.isArray(e)?o.call(e):e.length===+e.length?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:e.length===+e.length?e.length:w.keys(e).length},w.first=w.head=w.take=function(e,n,t){return null==e?void 0:null==n||t?e[0]:0>n?[]:o.call(e,0,n)},w.initial=function(e,n,t){return o.call(e,0,e.length-(null==n||t?1:n))},w.last=function(e,n,t){return null==e?void 0:null==n||t?e[e.length-1]:o.call(e,Math.max(e.length-n,0))},w.rest=w.tail=w.drop=function(e,n,t){return o.call(e,null==n||t?1:n)},w.compact=function(e){return w.filter(e,w.identity)};var H=function(e,n,t){return n&&w.every(e,w.isArray)?s.apply(t,e):(T(e,function(e){w.isArray(e)||w.isArguments(e)?n?u.apply(t,e):H(e,n,t):t.push(e)}),t)};w.flatten=function(e,n){return H(e,n,[])},w.without=function(e){return w.difference(e,o.call(arguments,1))},w.partition=function(e,n){var t=[],r=[];return T(e,function(e){(n(e)?t:r).push(e)}),[t,r]},w.uniq=w.unique=function(e,n,t,r){w.isFunction(n)&&(r=t,t=n,n=!1);var i=t?w.map(e,t,r):e,a=[],u=[];return T(i,function(t,r){(n?r&&u[u.length-1]===t:w.contains(u,t))||(u.push(t),a.push(e[r]))}),a},w.union=function(){return w.uniq(w.flatten(arguments,!0))},w.intersection=function(e){var n=o.call(arguments,1);return w.filter(w.uniq(e),function(e){return w.every(n,function(n){return w.contains(n,e)})})},w.difference=function(e){var n=s.apply(r,o.call(arguments,1));return w.filter(e,function(e){return!w.contains(n,e)})},w.zip=function(){for(var e=w.max(w.pluck(arguments,"length").concat(0)),n=new Array(e),t=0;e>t;t++)n[t]=w.pluck(arguments,""+t);return n},w.object=function(e,n){if(null==e)return{};for(var t={},r=0,i=e.length;i>r;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t},w.indexOf=function(e,n,t){if(null==e)return-1;var r=0,i=e.length;if(t){if("number"!=typeof t)return r=w.sortedIndex(e,n),e[r]===n?r:-1;r=0>t?Math.max(0,i+t):t}if(y&&e.indexOf===y)return e.indexOf(n,t);for(;i>r;r++)if(e[r]===n)return r;return-1},w.lastIndexOf=function(e,n,t){if(null==e)return-1;var r=null!=t;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(n,t):e.lastIndexOf(n);for(var i=r?t:e.length;i--;)if(e[i]===n)return i;return-1},w.range=function(e,n,t){arguments.length<=1&&(n=e||0,e=0),t=arguments[2]||1;for(var r=Math.max(Math.ceil((n-e)/t),0),i=0,a=new Array(r);r>i;)a[i++]=e,e+=t;return a};var P=function(){};w.bind=function(e,n){var t,r;if(L&&e.bind===L)return L.apply(e,o.call(arguments,1));if(!w.isFunction(e))throw new TypeError;return t=o.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(n,t.concat(o.call(arguments)));P.prototype=e.prototype;var i=new P;P.prototype=null;var a=e.apply(i,t.concat(o.call(arguments)));return Object(a)===a?a:i}},w.partial=function(e){var n=o.call(arguments,1);return function(){for(var t=0,r=n.slice(),i=0,a=r.length;a>i;i++)r[i]===w&&(r[i]=arguments[t++]);for(;t<arguments.length;)r.push(arguments[t++]);return e.apply(this,r)}},w.bindAll=function(e){var n=o.call(arguments,1);if(0===n.length)throw new Error("bindAll must be passed function names");return T(n,function(n){e[n]=w.bind(e[n],e)}),e},w.memoize=function(e,n){var t={};return n||(n=w.identity),function(){var r=n.apply(this,arguments);return w.has(t,r)?t[r]:t[r]=e.apply(this,arguments)}},w.delay=function(e,n){var t=o.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},w.defer=function(e){return w.delay.apply(w,[e,1].concat(o.call(arguments,1)))},w.throttle=function(e,n,t){var r,i,a,u=null,o=0;t||(t={});var s=function(){o=t.leading===!1?0:w.now(),u=null,a=e.apply(r,i),r=i=null};return function(){var l=w.now();o||t.leading!==!1||(o=l);var c=n-(l-o);return r=this,i=arguments,0>=c?(clearTimeout(u),u=null,o=l,a=e.apply(r,i),r=i=null):u||t.trailing===!1||(u=setTimeout(s,c)),a}},w.debounce=function(e,n,t){var r,i,a,u,o,s=function(){var l=w.now()-u;n>l?r=setTimeout(s,n-l):(r=null,t||(o=e.apply(a,i),a=i=null))};return function(){a=this,i=arguments,u=w.now();var l=t&&!r;return r||(r=setTimeout(s,n)),l&&(o=e.apply(a,i),a=i=null),o}},w.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},w.wrap=function(e,n){return w.partial(n,e)},w.compose=function(){var e=arguments;return function(){for(var n=arguments,t=e.length-1;t>=0;t--)n=[e[t].apply(this,n)];return n[0]}},w.after=function(e,n){return function(){return--e<1?n.apply(this,arguments):void 0}},w.keys=function(e){if(!w.isObject(e))return[];if(_)return _(e);var n=[];for(var t in e)w.has(e,t)&&n.push(t);return n},w.values=function(e){for(var n=w.keys(e),t=n.length,r=new Array(t),i=0;t>i;i++)r[i]=e[n[i]];return r},w.pairs=function(e){for(var n=w.keys(e),t=n.length,r=new Array(t),i=0;t>i;i++)r[i]=[n[i],e[n[i]]];return r},w.invert=function(e){for(var n={},t=w.keys(e),r=0,i=t.length;i>r;r++)n[e[t[r]]]=t[r];return n},w.functions=w.methods=function(e){var n=[];for(var t in e)w.isFunction(e[t])&&n.push(t);return n.sort()},w.extend=function(e){return T(o.call(arguments,1),function(n){if(n)for(var t in n)e[t]=n[t]}),e},w.pick=function(e){var n={},t=s.apply(r,o.call(arguments,1));return T(t,function(t){t in e&&(n[t]=e[t])}),n},w.omit=function(e){var n={},t=s.apply(r,o.call(arguments,1));for(var i in e)w.contains(t,i)||(n[i]=e[i]);return n},w.defaults=function(e){return T(o.call(arguments,1),function(n){if(n)for(var t in n)void 0===e[t]&&(e[t]=n[t])}),e},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,n){return n(e),e};var R=function(e,n,t,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;e instanceof w&&(e=e._wrapped),n instanceof w&&(n=n._wrapped);var i=l.call(e);if(i!=l.call(n))return!1;switch(i){case"[object String]":return e==String(n);case"[object Number]":return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}if("object"!=typeof e||"object"!=typeof n)return!1;for(var a=t.length;a--;)if(t[a]==e)return r[a]==n;var u=e.constructor,o=n.constructor;if(u!==o&&!(w.isFunction(u)&&u instanceof u&&w.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in n)return!1;t.push(e),r.push(n);var s=0,c=!0;if("[object Array]"==i){if(s=e.length,c=s==n.length)for(;s--&&(c=R(e[s],n[s],t,r)););}else{for(var f in e)if(w.has(e,f)&&(s++,!(c=w.has(n,f)&&R(e[f],n[f],t,r))))break;if(c){for(f in n)if(w.has(n,f)&&!s--)break;c=!s}}return t.pop(),r.pop(),c};w.isEqual=function(e,n){return R(e,n,[],[])},w.isEmpty=function(e){if(null==e)return!0;if(w.isArray(e)||w.isString(e))return 0===e.length;for(var n in e)if(w.has(e,n))return!1;return!0},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=k||function(e){return"[object Array]"==l.call(e)},w.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){w["is"+e]=function(n){return l.call(n)=="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return!(!e||!w.has(e,"callee"))}),"function"!=typeof/./&&(w.isFunction=function(e){return"function"==typeof e}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!=+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,n){return c.call(e,n)},w.noConflict=function(){return e._=n,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.property=function(e){return function(n){return n[e]}},w.matches=function(e){return function(n){if(n===e)return!0;for(var t in e)if(e[t]!==n[t])return!1;return!0}},w.times=function(e,n,t){for(var r=Array(Math.max(0,e)),i=0;e>i;i++)r[i]=n.call(t,i);return r},w.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var j={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};j.unescape=w.invert(j.escape);var q={escape:new RegExp("["+w.keys(j.escape).join("")+"]","g"),unescape:new RegExp("("+w.keys(j.unescape).join("|")+")","g")};w.each(["escape","unescape"],function(e){w[e]=function(n){return null==n?"":(""+n).replace(q[e],function(n){return j[e][n]})}}),w.result=function(e,n){if(null==e)return void 0;var t=e[n];return w.isFunction(t)?t.call(e):t},w.mixin=function(e){T(w.functions(e),function(n){var t=w[n]=e[n];w.prototype[n]=function(){var e=[this._wrapped];return u.apply(e,arguments),F.call(this,t.apply(w,e))}})};var C=0;w.uniqueId=function(e){var n=++C+"";return e?e+n:n},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;w.template=function(e,n,t){var r;t=w.defaults({},t,w.templateSettings);var i=new RegExp([(t.escape||O).source,(t.interpolate||O).source,(t.evaluate||O).source].join("|")+"|$","g"),a=0,u="__p+='";e.replace(i,function(n,t,r,i,o){return u+=e.slice(a,o).replace(I,function(e){return"\\"+D[e]}),t&&(u+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),r&&(u+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(u+="';\n"+i+"\n__p+='"),a=o+n.length,n}),u+="';\n",t.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{r=new Function(t.variable||"obj","_",u)}catch(o){throw o.source=u,o}if(n)return r(n,w);var s=function(e){return r.call(this,e,w)};return s.source="function("+(t.variable||"obj")+"){\n"+u+"}",s},w.chain=function(e){return w(e).chain()};var F=function(e){return this._chain?w(e).chain():e};w.mixin(w),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=r[e];w.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!=e&&"splice"!=e||0!==t.length||delete t[0],F.call(this,t)}}),T(["concat","join","slice"],function(e){var n=r[e];w.prototype[e]=function(){return F.call(this,n.apply(this._wrapped,arguments))}}),w.extend(w.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}).call(this);
